# Сервис управления рассылками на Django
## Задача:
- Реализовать интерфейс заполнения рассылок: CRUD-механизм для управления рассылками.
- Реализовать скрипт рассылки, который работает как из командной строки, так и по расписанию.
- Добавить настройки конфигурации для периодического запуска задачи.
- Расширить модель пользователя для регистрации по почте, а также верификации.
- Добавить интерфейс для входа, регистрации и подтверждения почтового ящика.
- Реализовать ограничение доступа к рассылкам для разных пользователей.
- Создать блог для продвижения сервиса.
- Реализовать главную страницу.

## Логика работы системы

- После создания новой рассылки, если текущее время больше времени начала и меньше времени окончания, то должны быть выбраны из справочника все клиенты, которые указаны в настройках рассылки, и запущена отправка для всех этих клиентов.
- Если создается рассылка со временем старта в будущем, то отправка должна стартовать автоматически по наступлению этого времени без дополнительных действий со стороны пользователя системы.
- По ходу отправки сообщений должна собираться статистика (см. описание сущности «сообщение» и «логи» выше) по каждому сообщению для последующего формирования отчетов.
- Внешний сервис, который принимает отправляемые сообщения, может долго обрабатывать запрос, отвечать некорректными данными, на какое-то время вообще не принимать запросы. Нужна корректная обработка подобных ошибок. Проблемы с внешним сервисом не должны влиять на стабильность работы разрабатываемого сервиса рассылок.

- Рассылка запускается в любое время из командной строки с помощью кастомной команды
  python manage.py start_sched

## Запуск проекта:
- Необходимые переменные окружения перечислены в файле .env.sample
- Файл с зависимостями - requirements.txt
- Установка зависимостей выполняется командой
  pip install -r requirements.txt
- Необходимо применить миграции командой
  python manage.py migrate
- Запуск WEB-приложения командой
  python manage.py runserver

## Пользователи:
### Администратор системы (суперпользователь)
- Команда для создания суперпользователя
  python manage.py csu
- Простые пользователи создаются через регистрацию в сервисе.

## Интерфейс пользователя системы
- Расширена модель пользователя для регистрации по почте, а также верификации электронного адреса. Добавлен интерфейс для входа, регистрации и подтверждения почтового ящика, редактирования профиля.
- Пользователь может создавать рассылки, добавлять подписчиков, управлять своими рассылками и списком подписчиков.
- Каждый пользователь системы имеет доступ только к своему списку рассылок и подписчиков.

### Функционал менеджеров рассылки
- Может просматривать любые рассылки.
- Может просматривать список пользователей сервиса.
- Может просматривать список подписчиков всех пользователей.

### Блог
В сущность блога добавлены следующие поля:
- заголовок,
- содержимое статьи,
- изображение,
- количество просмотров,
- дата публикации

### Главная страница
На главной странице отображается информация:
- количество рассылок всего,
- количество активных рассылок,
- количество уникальных клиентов для рассылок,
- 3 случайные статьи из блога.

- Для вывода статей блога и отображения количества активных рассылок
  включено кэширование (Redis).